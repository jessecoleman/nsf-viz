{"openapi": "3.0.2", "info": {"title": "FastAPI", "version": "0.1.0"}, "servers": [{"url": "http://localhost:8888"}], "paths": {"/divisions": {"get": {"summary": "Divisions", "operationId": "loadDivisions", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Divisions Divisions Get", "type": "array", "items": {"$ref": "#/components/schemas/Division"}}}}}}}}, "/divisions/{org}": {"get": {"summary": "Divisions", "operationId": "loadDivisions", "parameters": [{"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Divisions Divisions  Org  Get", "type": "array", "items": {"$ref": "#/components/schemas/Division"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/directory/{org}": {"get": {"summary": "Divisions", "operationId": "loadDirectory", "parameters": [{"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Divisions Directory  Org  Get", "type": "array", "items": {"$ref": "#/components/schemas/Directory"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/search": {"get": {"summary": "Search", "operationId": "search", "parameters": [{"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "query"}, {"required": false, "schema": {"title": "Start", "type": "integer"}, "name": "start", "in": "query"}, {"required": false, "schema": {"title": "End", "type": "integer"}, "name": "end", "in": "query"}, {"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}}, "name": "terms", "in": "query"}, {"required": false, "schema": {"title": "Match", "type": "array", "items": {"type": "string"}}, "name": "match", "in": "query"}, {"required": false, "schema": {"title": "Intersection", "type": "boolean", "default": false}, "name": "intersection", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/years": {"get": {"summary": "Years", "operationId": "years", "parameters": [{"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "query"}, {"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}}, "name": "terms", "in": "query"}, {"required": false, "schema": {"title": "Divisions", "type": "array", "items": {"type": "string"}}, "name": "divisions", "in": "query"}, {"required": false, "schema": {"title": "Match", "type": "array", "items": {"type": "string"}}, "name": "match", "in": "query"}, {"required": false, "schema": {"title": "Intersection", "type": "boolean", "default": false}, "name": "intersection", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/YearsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/keywords/typeahead/{prefix}": {"get": {"summary": "Typeahead", "operationId": "loadTypeahead", "parameters": [{"required": true, "schema": {"title": "Prefix", "type": "string"}, "name": "prefix", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Typeahead Keywords Typeahead  Prefix  Get", "type": "array", "items": {"type": "string"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/keywords/related": {"get": {"summary": "Related", "operationId": "loadRelated", "parameters": [{"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}}, "name": "terms", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Related Keywords Related Get", "type": "array", "items": {"type": "string"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/keywords/count": {"get": {"summary": "Count Terms", "operationId": "loadTermCounts", "parameters": [{"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "query"}, {"required": false, "schema": {"title": "Match", "type": "array", "items": {"type": "string"}, "default": ["title", "abstract"]}, "name": "match", "in": "query"}, {"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}}, "name": "terms", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Count Terms Keywords Count Get", "type": "object", "additionalProperties": {"type": "integer"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/grants": {"get": {"summary": "Grant Data", "operationId": "loadGrants", "parameters": [{"required": true, "schema": {"title": "Idx", "type": "integer"}, "name": "idx", "in": "query"}, {"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "query"}, {"required": false, "schema": {"title": "Start", "type": "integer"}, "name": "start", "in": "query"}, {"required": false, "schema": {"title": "End", "type": "integer"}, "name": "end", "in": "query"}, {"required": false, "schema": {"title": "Divisions", "type": "array", "items": {"type": "string"}}, "name": "divisions", "in": "query"}, {"required": false, "schema": {"title": "Match", "type": "array", "items": {"type": "string"}, "default": ["title", "abstract"]}, "name": "match", "in": "query"}, {"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}}, "name": "terms", "in": "query"}, {"required": false, "schema": {"title": "Sort", "type": "string", "default": "title"}, "name": "sort", "in": "query"}, {"required": false, "schema": {"title": "Order", "type": "string", "default": "desc"}, "name": "order", "in": "query"}, {"required": false, "schema": {"title": "Intersection", "type": "boolean", "default": false}, "name": "intersection", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"title": "Response Grant Data Grants Get", "type": "array", "items": {"$ref": "#/components/schemas/Grant"}}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/grants/download": {"get": {"summary": "Grant Download", "operationId": "downloadGrants", "parameters": [{"required": true, "schema": {"title": "Org", "type": "string"}, "name": "org", "in": "query"}, {"required": false, "schema": {"title": "Start", "type": "integer"}, "name": "start", "in": "query"}, {"required": false, "schema": {"title": "End", "type": "integer"}, "name": "end", "in": "query"}, {"required": false, "schema": {"title": "Divisions", "type": "array", "items": {"type": "string"}}, "name": "divisions", "in": "query"}, {"required": false, "schema": {"title": "Match", "type": "array", "items": {"type": "string"}, "default": ["title", "abstract"]}, "name": "match", "in": "query"}, {"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}}, "name": "terms", "in": "query"}, {"required": false, "schema": {"title": "Sort", "type": "string", "default": "title"}, "name": "sort", "in": "query"}, {"required": false, "schema": {"title": "Order", "type": "string", "default": "desc"}, "name": "order", "in": "query"}, {"required": false, "schema": {"title": "Intersection", "type": "boolean", "default": false}, "name": "intersection", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/abstract/{_id}": {"get": {"summary": "Get Abstract", "operationId": "loadAbstract", "parameters": [{"required": true, "schema": {"title": " Id"}, "name": "_id", "in": "path"}, {"required": false, "schema": {"title": "Terms", "type": "array", "items": {"type": "string"}, "default": []}, "name": "terms", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Grant"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/generate_openapi_json": {"get": {"summary": "Send Api Json", "operationId": "send_api_json_generate_openapi_json_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"Directory": {"title": "Directory", "required": ["abbr", "name", "href", "departments"], "type": "object", "properties": {"abbr": {"title": "Abbr", "type": "string"}, "name": {"title": "Name", "type": "string"}, "href": {"title": "Href", "type": "string"}, "est": {"title": "Est", "type": "integer"}, "desc": {"title": "Desc", "type": "string"}, "departments": {"title": "Departments", "type": "array", "items": {"$ref": "#/components/schemas/SubDirectory"}}}}, "DirectoryAggregate": {"title": "DirectoryAggregate", "required": ["key", "count", "amount", "divisions"], "type": "object", "properties": {"key": {"title": "Key", "type": "string"}, "count": {"title": "Count", "type": "integer"}, "amount": {"title": "Amount", "type": "integer"}, "divisions": {"title": "Divisions", "type": "array", "items": {"$ref": "#/components/schemas/DivisionAggregate"}}}}, "Division": {"title": "Division", "required": ["key", "name", "selected"], "type": "object", "properties": {"key": {"title": "Key", "type": "string"}, "name": {"title": "Name", "type": "string"}, "selected": {"title": "Selected", "type": "boolean"}}}, "DivisionAggregate": {"title": "DivisionAggregate", "required": ["key", "count", "amount"], "type": "object", "properties": {"key": {"title": "Key", "type": "string"}, "count": {"title": "Count", "type": "integer"}, "amount": {"title": "Amount", "type": "integer"}}}, "Grant": {"title": "Grant", "required": ["id", "grant_id", "agency", "score", "title", "date", "amount", "cat1", "cat1_raw"], "type": "object", "properties": {"id": {"title": "Id", "type": "string"}, "grant_id": {"title": "Grant Id", "type": "string"}, "agency": {"title": "Agency", "type": "string"}, "score": {"title": "Score", "type": "number"}, "title": {"title": "Title", "type": "string"}, "date": {"title": "Date", "type": "string"}, "amount": {"title": "Amount", "type": "integer"}, "abstract": {"title": "Abstract", "type": "string"}, "cat1": {"title": "Cat1", "type": "string"}, "cat1_raw": {"title": "Cat1 Raw", "type": "string"}, "cat2": {"title": "Cat2", "type": "string"}, "cat2_raw": {"title": "Cat2 Raw", "type": "string"}, "cat3": {"title": "Cat3", "type": "string"}, "cat3_raw": {"title": "Cat3 Raw", "type": "string"}}}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "SearchResponse": {"title": "SearchResponse", "required": ["bars", "divisions"], "type": "object", "properties": {"bars": {"title": "Bars", "type": "array", "items": {"$ref": "#/components/schemas/YearDivisionAggregate"}}, "divisions": {"title": "Divisions", "type": "array", "items": {"$ref": "#/components/schemas/DirectoryAggregate"}}}}, "SubDirectory": {"title": "SubDirectory", "required": ["abbr", "name", "href"], "type": "object", "properties": {"abbr": {"title": "Abbr", "type": "string"}, "name": {"title": "Name", "type": "string"}, "href": {"title": "Href", "type": "string"}, "est": {"title": "Est", "type": "integer"}, "desc": {"title": "Desc", "type": "string"}}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"type": "string"}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}, "YearAggregate": {"title": "YearAggregate", "required": ["key", "count", "amount"], "type": "object", "properties": {"key": {"title": "Key", "type": "integer"}, "count": {"title": "Count", "type": "integer"}, "amount": {"title": "Amount", "type": "integer"}}}, "YearDivisionAggregate": {"title": "YearDivisionAggregate", "required": ["key", "count", "amount", "divisions"], "type": "object", "properties": {"key": {"title": "Key", "type": "integer"}, "count": {"title": "Count", "type": "integer"}, "amount": {"title": "Amount", "type": "integer"}, "divisions": {"title": "Divisions", "type": "array", "items": {"$ref": "#/components/schemas/DivisionAggregate"}}}}, "YearsResponse": {"title": "YearsResponse", "required": ["per_year"], "type": "object", "properties": {"per_year": {"title": "Per Year", "type": "array", "items": {"$ref": "#/components/schemas/YearAggregate"}}}}}}}